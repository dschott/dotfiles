#!/usr/bin/env sh

if os-is-darwin; then
    versions=$(brew list -1 | grep -E '^go$|^go@')
    if [ -z "${1}" ]; then
        echo "Current version:"
        echo "    $(go version)"
        echo
        echo "Available versions:"
        echo "${versions}" | sed 's/^/    /'
    else
        if brew info "${1}" > /dev/null 2>&1; then
            for version in "${versions}"; do
                if [ "${version}" != "${1}" ]; then
                    brew unlink ${version}
                fi
            done
            brew link --force ${1}
        else
            echo "Invalid verison: $1"
        fi
    fi
elif os-is-linux; then
#     "
# $ ls -la /usr/bin/go
# lrwxrwxrwx 1 root root 21 Aug  4 16:46 /usr/bin/go -> ../lib/go-1.12/bin/go

# lrwxrwxrwx   1 root root       7 Aug  4 16:46 go -> go-1.12
# drwxr-xr-x   4 root root    4096 Nov  2 12:21 go-1.12
# drwxr-xr-x   4 root root    4096 Nov  2 12:19 go-1.13
# golang-1.13-go ->
fi
