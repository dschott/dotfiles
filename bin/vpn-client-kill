#!/usr/bin/env sh

case "$(uname -s)" in
Darwin)
    if [ -d '/Applications/Cisco/Cisco AnyConnect Secure Mobility Client.app' ]; then
        pid=$(ps aux | grep 'Cisco AnyConnect Secure Mobility Client' | grep -v grep | awk '{print $2}')
        if [ -n "${pid}" ]; then
            if kill -9 "${pid}"; then
                echo 'Killed: Cisco AnyConnect Secure Mobility Client'
            else
                echo 'Unable to Kill: Cisco AnyConnect Secure Mobility Client'
            fi
        fi
    fi
    ;;
*)
    >&2 echo "unsupported os"
    exit 1
esac
